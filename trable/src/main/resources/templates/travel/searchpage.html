<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layouts/layout}"
>
  <head>
    <meta charset="UTF-8" />
    <title>looking for TRABLE?</title>

    <!-- THYMELEAF JS  -->
    <th:block layout:fragment="script">
      <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
      <script th:inline="javascript">
      $(document).ready(function(){
    	  var currentPosition = parseInt($(".array").css("top"));
    	  $(window).scroll(function() {
    	    var position = $(window).scrollTop(); 
    	    $(".array").stop().animate({"top":position+currentPosition+"px"},500);
    	  });
    	});
  	function test(){
		$('.sidemenu').css('visibility','visible');
	}
	function test1(){
		$('.sidemenu').css('visibility','hidden');
	}
	function arraytest(){
		$('.select1').css('visibility','visible');
	}
	function arraytest1(){
		$('.select1').css('visibility','hidden');
	}
	
	/* function search(target){
		
		var tag = $('#tags').val();
		var param = JSON.stringify(tag);

		$.ajax({
			type: 'POST',
			url: '/findpostbytagAJAX',
			dataType : 'JSON',
			async : false,
			contentType:"application/json;charset=UTF-8",
			success : function(result){	
				console.log(param);
				for(var i=0; i<param.length; i++){
					var post = param[i];
				}
			},
			error : function(xhr, status, error){
				alert(xhr.responseText);
			}
		}) */

	
      </script>
    </th:block>

    <!-- THYMELEAF CSS -->
    <th:block layout:fragment="css">
        <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
      <style>
      
      *{
      	margin: 0 auto;
      	padding: 0;
      }
      
.sidemenu{
	width: 150px;
	height: 100%;
	position: fixed;
	left: 0;
	top : 0%;
	background-color: rgba(205,205,205, 1);
	visibility: hidden;
	text-align: center;
	z-index: 2;
}
      
      .content{
      	padding : 10px;
      }
      
      .search{
      margin-top: 50px;
      }
      
      .row{
      text-align: center;
      }
      
      .select{
      border: 0px;
      margin-top: 10px;
      margin-bottom: 10px;
      }
      
 .array{
	position: absolute;
	right: 3%;
	top: 30%;
}
      
      .uparrow{
      	transform : rotate(-90deg);
      }
      
      .downarrow{
      	transform : rotate(90deg);
      }
      
      .a1 {
		
      }
      
      .a2{

      }
	  
.a img {
  transition: all 0.2s linear;
  background-color: black;
}
.a:hover img {
  transform: scale(0.8);
}

.a:hover .a2{
	color: black;
}

/* .select{
	visibility: hidden;
}

.select:hover {
	visibility: visible;
} */

      
      </style>
    </th:block>
  </head>
  <body>
    <div layout:fragment="content">
		<!-- MENU  -->
		<div data-aos="fade-right" data-aos-duration="1000" class="sidemenu" onmouseover="test()" onmouseout="test1()">
		<ul class="nav flex-column">
		  <li class="nav-item">
		    <a class="nav-link active" aria-current="page" href="/"><img src="/images/Logo.png" alt="logo" width="110px"></a>
		  </li>
		  <li class="nav-item" sec:authorize="isAuthenticated()">
		    <a class="nav-link" href="/write"><img src="/images/write.png" alt="towrite" width="70px"></a>
		  </li>
		  <li class="nav-item" sec:authorize = "isAuthenticated()">
		    <a class="nav-link" href="/find"><img src="/images/search.png" alt="tosearch" width="70px"></a>
		  </li>
		  <li class="nav-item" sec:authorize ="isAnonymous()" >
		    <a class="nav-link" href="#photo"><img src="/images/search.png" alt="tosearch" width="70px"></a>
		  </li>
		  <li class="nav-item" sec:authorize="isAuthenticated()">
		    <a class="nav-link" href="/like"><img src="/images/userheart.png" alt="tolike" width="70px"></a>
		  </li>
		  <li class="nav-item" sec:authorize="isAuthenticated()">
		    <a class="nav-link" href="/user"><img src="/images/user.png" alt="touser" width="70px"></a>
		  </li>
		  <!-- <li class="nav-item" sec:authorize="isAuthenticated()">
		    <a class="nav-link" href="/setting"><img src="/images/settings.png" alt="tosetting" width="70px"></a>
		  </li> -->
		  </ul>		
		</div>


		<!-- SEARCH DIV -->
		<form class="row gx-3 gy-2 align-items-center search">
		  <div class="col-lg-3">
		    <label class="visually-hidden" for="keywords" onchange="search()">keywords</label>
		    <input type="text" class="form-control" id="tags" placeholder="looking for?" autocomplete="off" aria-describedby="inputGroup-sizing-lg">
		  </div>
<!-- 		  <div class="col-sm-3">
		    <button type="submit" class="btn btn-primary">Submit</button>
		  </div> -->
		</form>
			<!-- PHOTO ARRAY -->
			<div class="array" onmouseover="arraytest()" onmouseout="arraytest1()" style="text-align: center;" > 
    		<div class="arrayup"> <img class="uparrow" alt="" src="/images/double_arrows.png" width="50px"> </div>
    		<div class="select1" data-aos="zoom-in" style="visibility: hidden;">
    		    <label class="visually-hidden" for="specificSizeSelect">Preference</label>
    			<select class="select" id="specificSizeSelect">
      			<option selected class="change" onchange="select()">Array TRABLES </option>
     			<option value="1">by like</option>
     			<option value="2">by createdtime</option>
     			<option value="3">by recently created</option>
     			<option value="4">by updatedtime</option>
     			<option value="5">by recently updated</option>
   				 </select>
    		</div>
    		<div class="arraydown"> <img class="downarrow" alt="" src="/images/double_arrows.png" width="50px"> </div>
    		</div>
    
    	<!-- IMG SECTION -->
 		<div class="con_center section" id = "section3" style="margin-top: 50px;">
			<div data-aos="fade-up" data-aos-duration="1000">
				<div class="row" style="">
					<th:block th:each="post : ${posts}">
					<div class="col-md-3 align-self-center">
						<div style="position: relative; z-index: 1;">
							<a class="a" th:href="'view/'+${post.id}"><img class="a1" alt="1" th:src="${post.imgurl}" width="390px" ></a>
							<div class="a2" style="position: absolute; top:90%; left:69%; color: white; z-index: 2; background-color: rgba(0,0,0,0.2);" >  
								<div><img alt="heart" src="/images/flatheart.png" width="30px">
								<span> [[${post.heart}]] </span>
								</div>
							</div>								
						</div>
					</div>						
					</th:block>
				</div>
			</div>
			</div>
        <script>AOS.init();</script>
    </div>
  </body>
</html>





















